# 工程实践 / CI

## 包体与热更策略
- **Addressables + Catalog 热更**：资源按组拆分，支持远程 CDN 更新；代码热更可用 ILRuntime/HybirdCLR，但需评估稳定性与上架政策。
- **分环境配置**：开发/预发布/正式使用 ScriptableObject 或 JSON 配置，结合 Scripting Define Symbols 控制功能开关。

## 持续集成流水线常见步骤
- 拉取仓库并验证子模块 → 安装依赖（Unity 编辑器、Android SDK/NDK）→ 命令行打包（`-batchmode -nographics`）→ 运行编辑器/PlayMode 测试 → 构建 Android/iOS 包体 → 上传符号表和产物。
- 关键缓存：Library、Gradle、CocoaPods；避免每次全量构建耗时。

## 崩溃与日志收集
- 移动端集成崩溃收集（如 Firebase Crashlytics、Bugly），符号表上传保证可读堆栈。
- 业务日志分级：Error/Warn/Info；在正式服限制高频日志或关闭 Debug 以减少 GC 与 I/O。

## 资源版本与回滚
- 资源清单使用版本号与哈希；客户端启动时对比远端 Manifest 决定差分下载。
- 遇到严重问题时下发阻断版本或回滚 Catalog，代码热更需同步资源版本以保证协议匹配。
