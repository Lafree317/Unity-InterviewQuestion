# 测试与质量

## Unity 下常见的自动化测试
- **EditMode 测试**：纯 C# 逻辑，运行快，适合算法/工具类；命令行 `-runTests -testPlatform EditMode`。
- **PlayMode 测试**：跑在运行时，验证 MonoBehaviour、场景交互；注意使用 Test Runner 的 `UnityTest` 进行协程场景。
- **集成测试**：关键流程录制用例（录制输入或命令），在 CI 中 headless 播放。

## 性能基线与监控
- 为关键场景设置性能基线（帧率、GC、内存、耗时分布），提交前运行自动 profiling 脚本比对阈值。
- 真机采样：安卓使用 `adb shell am start ... -profiler` 或帧时间采集，iOS 用 Xcode Instruments；上线后通过埋点上报帧率和耗时分布。

## 兼容性与资源校验
- 贴图/模型导入设置校验脚本（尺寸、压缩格式、读写标记），在 CI 或导入钩子中阻断不合规资源。
- 多分辨率 UI 快照对比：自动化截图 + 像素差检测，防止布局回归。

## 缺陷分级与回归策略
- 严重性/优先级分级：阻塞发布的致命崩溃/支付/登录问题需立即回归验证；低频 UI 问题可合批处理。
- 回归 checklist：登录、支付、核心战斗/回合、联网同步、存档/云存档、设置、热更流程。
